import{w as H}from"./index.IRN_-0U3.js";import{Y as F}from"./scheduler.cOZPnMTP.js";const z=H(!1);let Y;const P=H(Y);function _(o){const f=o&&o.emoji||["ðŸ˜€","ðŸ˜‚","ðŸ˜†","ðŸ˜Š"];let v=o&&o.element,s=v||document.body,c=window.innerWidth,w=window.innerHeight;const h={x:c/2,y:c/2},b={x:c/2,y:c/2};let S=0;const p=[],E=[];let r,g,B;const M=window.matchMedia("(prefers-reduced-motion: reduce)");function T(){if(M.matches)return console.log("This browser has prefers reduced motion turned on, so the cursor did not init"),!1;r=document.createElement("canvas"),g=r.getContext("2d"),r.style.top="0px",r.style.left="0px",r.style.pointerEvents="none",v?(r.style.position="absolute",s.appendChild(r),r.width=s.clientWidth,r.height=s.clientHeight):(r.style.position="fixed",document.body.appendChild(r),r.width=c,r.height=w),g.font="21px serif",g.textBaseline="middle",g.textAlign="center",f.forEach(n=>{let u=g.measureText(n),a=document.createElement("canvas"),m=a.getContext("2d");a.width=u.width,a.height=2*u.actualBoundingBoxAscent,m.textAlign="center",m.font="21px serif",m.textBaseline="middle",m.fillText(n,a.width/2,u.actualBoundingBoxAscent),E.push(a)}),s.addEventListener("mousemove",t,{passive:!0}),s.addEventListener("touchmove",e,{passive:!0}),s.addEventListener("touchstart",e,{passive:!0}),window.addEventListener("resize",A),d()}function A(n){c=window.innerWidth,w=window.innerHeight,v?(r.width=s.clientWidth,r.height=s.clientHeight):(r.width=c,r.height=w)}function e(n){if(n.touches.length>0)for(let u=0;u<n.touches.length;u++)i(n.touches[u].clientX,n.touches[u].clientY,E[Math.floor(Math.random()*E.length)])}function t(n){n.timeStamp-S<16||window.requestAnimationFrame(()=>{if(v){const u=s.getBoundingClientRect();h.x=n.clientX-u.left,h.y=n.clientY-u.top}else h.x=n.clientX,h.y=n.clientY;Math.hypot(h.x-b.x,h.y-b.y)>1&&(i(h.x,h.y,E[Math.floor(Math.random()*f.length)]),b.x=h.x,b.y=h.y,S=n.timeStamp)})}function i(n,u,a){p.push(new l(n,u,a))}function d(){(function(){if(p.length!=0){g.clearRect(0,0,c,w);for(let n=0;n<p.length;n++)p[n].update(g);for(let n=p.length-1;n>=0;n--)p[n].lifeSpan<0&&p.splice(n,1);p.length==0&&g.clearRect(0,0,c,w)}})(),B=requestAnimationFrame(d)}function y(){r.remove(),cancelAnimationFrame(B),s.removeEventListener("mousemove",t),s.removeEventListener("touchmove",e),s.removeEventListener("touchstart",e),window.addEventListener("resize",A)}function l(n,u,a){const m=Math.floor(60*Math.random()+80);this.initialLifeSpan=m,this.lifeSpan=m,this.velocity={x:(Math.random()<.5?-1:1)*(Math.random()/2),y:.4*Math.random()+.8},this.position={x:n,y:u},this.canv=a,this.update=function(L){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.lifeSpan--,this.velocity.y+=.05;const C=Math.max(this.lifeSpan/this.initialLifeSpan,0);L.drawImage(this.canv,this.position.x-this.canv.width/2*C,this.position.y-this.canv.height/2,this.canv.width*C,this.canv.height*C)}}return M.onchange=()=>{M.matches?y():T()},T(),{destroy:y}}function D(...o){return o.filter(Boolean).join(" ")}const I=typeof document<"u";function j(o){const f=H(o);function v(c){I&&f.set(c)}function s(c){I&&f.update(c)}return{subscribe:f.subscribe,set:v,update:s}}let W=0;function R(){const o=j([]),f=j([]);function v(e){o.update(t=>[e,...t])}function s(e){var a;const{message:t,...i}=e,d=typeof(e==null?void 0:e.id)=="number"||e.id&&((a=e.id)==null?void 0:a.length)>0?e.id:W++,y=e.dismissable===void 0?!0:e.dismissable,l=e.type===void 0?"default":e.type;return F(o).find(m=>m.id===d)?o.update(m=>m.map(L=>L.id===d?{...L,...e,id:d,title:t,dismissable:y,type:l,updated:!0}:{...L,updated:!1})):v({...i,id:d,title:t,dismissable:y,type:l}),d}function c(e){if(e===void 0){o.update(t=>t.map(i=>({...i,dismiss:!0})));return}return o.update(t=>t.map(i=>i.id===e?{...i,dismiss:!0}:i)),e}function w(e){if(e===void 0){o.set([]);return}return o.update(t=>t.filter(i=>i.id!==e)),e}function h(e,t){return s({...t,type:"default",message:e})}function b(e,t){return s({...t,type:"error",message:e})}function S(e,t){return s({...t,type:"success",message:e})}function p(e,t){return s({...t,type:"info",message:e})}function E(e,t){return s({...t,type:"warning",message:e})}function r(e,t){return s({...t,type:"loading",message:e})}function g(e,t){if(!t)return;let i;t.loading!==void 0&&(i=s({...t,promise:e,type:"loading",message:t.loading}));const d=e instanceof Promise?e:e();let y=i!==void 0;return d.then(l=>{if(l&&typeof l.ok=="boolean"&&!l.ok){y=!1;const n=typeof t.error=="function"?t.error(`HTTP error! status: ${l.status}`):t.error;s({id:i,type:"error",message:n})}else if(t.success!==void 0){y=!1;const n=typeof t.success=="function"?t.success(l):t.success;s({id:i,type:"success",message:n})}}).catch(l=>{if(t.error!==void 0){y=!1;const n=typeof t.error=="function"?t.error(l):t.error;s({id:i,type:"error",message:n})}}).finally(()=>{var l;y&&(c(i),i=void 0),(l=t.finally)==null||l.call(t)}),i}function B(e,t){const i=(t==null?void 0:t.id)||W++;return s({component:e,id:i,...t}),i}function M(e){f.update(t=>t.filter(i=>i.toastId!==e))}function T(e){if(F(f).find(i=>i.toastId===e.toastId)===void 0){f.update(i=>[e,...i]);return}f.update(i=>i.map(d=>d.toastId===e.toastId?e:d))}function A(){o.set([]),f.set([])}return{create:s,addToast:v,dismiss:c,remove:w,message:h,error:b,success:S,info:p,warning:E,loading:r,promise:g,custom:B,removeHeight:M,setHeight:T,reset:A,toasts:o,heights:f}}const x=R();function X(o,f){return x.create({message:o,...f})}const $=X,O=Object.assign($,{success:x.success,info:x.info,warning:x.warning,error:x.error,custom:x.custom,message:x.message,promise:x.promise,dismiss:x.dismiss,loading:x.loading}),V=o=>({subscribe:o});export{D as a,V as b,_ as c,O as d,P as e,x as t,z as u};
